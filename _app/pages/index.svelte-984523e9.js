import{K as Te,S as ue,i as fe,s as de,e as _,t as k,k as L,c as m,a as v,h as E,d,m as C,b as p,L as pe,g as G,J as c,j as Y,n as ne,w as Ie,o as te,p as T,q as ae,r as $,x as se,y as le,z as ie,C as oe,M as _e,N as Ae,O as Fe,l as me,P as We,Q as Le,R as Ce,T as ge,U as ye,V as Ve}from"../chunks/index-1b76752e.js";function Ue(i){const t=i-1;return t*t*t+1}function we(i,{delay:t=0,duration:r=400,easing:e=Te}={}){const a=+getComputedStyle(i).opacity;return{delay:t,duration:r,easing:e,css:l=>`opacity: ${l*a}`}}function Me(i,{delay:t=0,duration:r=400,easing:e=Ue,x:a=0,y:l=0,opacity:s=0}={}){const n=getComputedStyle(i),o=+n.opacity,f=n.transform==="none"?"":n.transform,w=o*(1-s);return{delay:t,duration:r,easing:e,css:(u,b)=>`
			transform: ${f} translate(${(1-u)*a}px, ${(1-u)*l}px);
			opacity: ${o-w*b}`}}function Ne(i){let t,r,e,a=i[0].dayOfWeek+"",l,s,n,o,f,w,u,b=i[0].temperature+"",D,V,I=i[0].temperatureUnit+"",U,O,j,P,q=i[0].windSpeed+"",N,K,H=i[0].windDirection+"",X,Q,h,g,y,W,A,z=i[0].detailedForecast+"",R;return{c(){t=_("article"),r=_("div"),e=_("h3"),l=k(a),s=L(),n=_("p"),o=_("em"),f=k("It may or may not be"),w=L(),u=_("em"),D=k(b),V=k("\xB0"),U=k(I),O=L(),j=_("p"),P=k("With winds "),N=k(q),K=L(),X=k(H),Q=L(),h=_("img"),W=L(),A=_("p"),R=k(z),this.h()},l(F){t=m(F,"ARTICLE",{});var S=v(t);r=m(S,"DIV",{class:!0});var M=v(r);e=m(M,"H3",{class:!0});var Z=v(e);l=E(Z,a),Z.forEach(d),s=C(M),n=m(M,"P",{});var J=v(n);o=m(J,"EM",{class:!0});var x=v(o);f=E(x,"It may or may not be"),x.forEach(d),w=C(J),u=m(J,"EM",{class:!0});var re=v(u);D=E(re,b),V=E(re,"\xB0"),U=E(re,I),re.forEach(d),J.forEach(d),O=C(M),j=m(M,"P",{});var ee=v(j);P=E(ee,"With winds "),N=E(ee,q),K=C(ee),X=E(ee,H),ee.forEach(d),Q=C(M),h=m(M,"IMG",{src:!0,alt:!0}),W=C(M),A=m(M,"P",{class:!0});var he=v(A);R=E(he,z),he.forEach(d),M.forEach(d),S.forEach(d),this.h()},h(){p(e,"class","col-span-3"),p(o,"class","italic"),p(u,"class","font-bold"),pe(h.src,g=i[1].src)||p(h,"src",g),p(h,"alt",y=i[1].alt),p(A,"class","col-span-3"),p(r,"class","grid grid-cols-3 gap-2 justify-items-center")},m(F,S){G(F,t,S),c(t,r),c(r,e),c(e,l),c(r,s),c(r,n),c(n,o),c(o,f),c(n,w),c(n,u),c(u,D),c(u,V),c(u,U),c(r,O),c(r,j),c(j,P),c(j,N),c(j,K),c(j,X),c(r,Q),c(r,h),c(r,W),c(r,A),c(A,R)},p(F,[S]){S&1&&a!==(a=F[0].dayOfWeek+"")&&Y(l,a),S&1&&b!==(b=F[0].temperature+"")&&Y(D,b),S&1&&I!==(I=F[0].temperatureUnit+"")&&Y(U,I),S&1&&q!==(q=F[0].windSpeed+"")&&Y(N,q),S&1&&H!==(H=F[0].windDirection+"")&&Y(X,H),S&2&&!pe(h.src,g=F[1].src)&&p(h,"src",g),S&2&&y!==(y=F[1].alt)&&p(h,"alt",y),S&1&&z!==(z=F[0].detailedForecast+"")&&Y(R,z)},i:ne,o:ne,d(F){F&&d(t)}}}function B(i,t){this.src=i,this.alt=t}function Oe(i,t,r){let{data:e}=t;const a={default:new B("/cats/default_cat.jpg","default cat picture"),clearDay:new B("/cats/justright_cat.jpg","A blissful cat picture"),hot:new B("/cats/hot_cat.jpg","A cat feeling hot"),cold:new B("/cats/cold_cat.jpg","A cat feeling cold"),snow:new B("/cats/snow_cat.jpg","A cat covered in snow"),sunny:new B("/cats/snow_cat.jpg","A cat in the sunshin"),rainy:new B("/cats/rainy_cat.jpg","A cat in the rain"),rainy2:new B("/cats/rainy2_cat.jpg","A cat in the rain"),windy:new B("/cats/windy_cat.jpg","A cat in the wind")};let l={src:null,alt:null};function s(){let n=e.temperatureUnit==="F"?e.temperature:e.temperature*1.8+32,o=e.windSpeed,f=e.detailedForecast.toLowerCase().includes("snow");return n>60&&n<80&&o<15?a.clearDay:f?a.snow:a.default}return Ie(()=>{r(1,l=s())}),i.$$set=n=>{"data"in n&&r(0,e=n.data)},[e,l]}class je extends ue{constructor(t){super(),fe(this,t,Oe,Ne,de,{data:0})}}function Pe(i){let t,r=i[0].morning.name+"",e,a,l;return{c(){t=_("h2"),e=k(r),a=k("'s Forecast: "),l=k(i[2])},l(s){t=m(s,"H2",{});var n=v(t);e=E(n,r),a=E(n,"'s Forecast: "),l=E(n,i[2]),n.forEach(d)},m(s,n){G(s,t,n),c(t,e),c(t,a),c(t,l)},p(s,n){n&1&&r!==(r=s[0].morning.name+"")&&Y(e,r),n&4&&Y(l,s[2])},i:ne,o:ne,d(s){s&&d(t)}}}function He(i){let t,r,e,a,l=i[0].morning&&ve(i),s=i[0].night&&be(i);return{c(){t=_("div"),l&&l.c(),r=L(),s&&s.c(),this.h()},l(n){t=m(n,"DIV",{class:!0});var o=v(t);l&&l.l(o),r=C(o),s&&s.l(o),o.forEach(d),this.h()},h(){p(t,"class","md:grid-cols-2"),_e(t,"grid",i[0].night)},m(n,o){G(n,t,o),l&&l.m(t,null),c(t,r),s&&s.m(t,null),a=!0},p(n,o){n[0].morning?l?(l.p(n,o),o&1&&$(l,1)):(l=ve(n),l.c(),$(l,1),l.m(t,r)):l&&(te(),T(l,1,1,()=>{l=null}),ae()),n[0].night?s?(s.p(n,o),o&1&&$(s,1)):(s=be(n),s.c(),$(s,1),s.m(t,null)):s&&(te(),T(s,1,1,()=>{s=null}),ae()),o&1&&_e(t,"grid",n[0].night)},i(n){a||($(l),$(s),e||Ae(()=>{e=Fe(t,Me,{y:5,duration:250}),e.start()}),a=!0)},o(n){T(l),T(s),a=!1},d(n){n&&d(t),l&&l.d(),s&&s.d()}}}function ve(i){let t,r;return t=new je({props:{data:i[0].morning}}),{c(){se(t.$$.fragment)},l(e){le(t.$$.fragment,e)},m(e,a){ie(t,e,a),r=!0},p(e,a){const l={};a&1&&(l.data=e[0].morning),t.$set(l)},i(e){r||($(t.$$.fragment,e),r=!0)},o(e){T(t.$$.fragment,e),r=!1},d(e){oe(t,e)}}}function be(i){let t,r;return t=new je({props:{data:i[0].night}}),{c(){se(t.$$.fragment)},l(e){le(t.$$.fragment,e)},m(e,a){ie(t,e,a),r=!0},p(e,a){const l={};a&1&&(l.data=e[0].night),t.$set(l)},i(e){r||($(t.$$.fragment,e),r=!0)},o(e){T(t.$$.fragment,e),r=!1},d(e){oe(t,e)}}}function Re(i){let t,r,e,a,l;const s=[He,Pe],n=[];function o(f,w){return f[1]?0:1}return e=o(i),a=n[e]=s[e](i),{c(){t=_("article"),r=_("div"),a.c(),this.h()},l(f){t=m(f,"ARTICLE",{class:!0});var w=v(t);r=m(w,"DIV",{});var u=v(r);a.l(u),u.forEach(d),w.forEach(d),this.h()},h(){p(t,"class","weatherCard")},m(f,w){G(f,t,w),c(t,r),n[e].m(r,null),l=!0},p(f,[w]){let u=e;e=o(f),e===u?n[e].p(f,w):(te(),T(n[u],1,1,()=>{n[u]=null}),ae(),a=n[e],a?a.p(f,w):(a=n[e]=s[e](f),a.c()),$(a,1),a.m(r,null))},i(f){l||($(a),l=!0)},o(f){T(a),l=!1},d(f){f&&d(t),n[e].d()}}}function Ye(i,t,r){let e,{data:a}=t,{expand:l=!0}=t;return i.$$set=s=>{"data"in s&&r(0,a=s.data),"expand"in s&&r(1,l=s.expand)},i.$$.update=()=>{i.$$.dirty&1&&r(2,e=a.night?`High: ${a.morning.temperature} Low: ${a.night.temperature}, ${a.morning.shortForecast}`:`High: ${a.morning.temperature} ${a.morning.shortForecast}`)},[a,l,e]}class Se extends ue{constructor(t){super(),fe(this,t,Ye,Re,de,{data:0,expand:1})}}function ke(i,t,r){const e=i.slice();return e[10]=t[r],e[12]=r,e}function Ee(i){let t,r=i[0].city+"",e,a,l=i[0].state+"",s;return{c(){t=_("h2"),e=k(r),a=k(", "),s=k(l),this.h()},l(n){t=m(n,"H2",{class:!0});var o=v(t);e=E(o,r),a=E(o,", "),s=E(o,l),o.forEach(d),this.h()},h(){p(t,"class","text-3xl text-sky-100 m-2")},m(n,o){G(n,t,o),c(t,e),c(t,a),c(t,s)},p(n,o){o&1&&r!==(r=n[0].city+"")&&Y(e,r),o&1&&l!==(l=n[0].state+"")&&Y(s,l)},d(n){n&&d(t)}}}function De(i){let t,r,e=i[1],a=[];for(let s=0;s<e.length;s+=1)a[s]=$e(ke(i,e,s));const l=s=>T(a[s],1,1,()=>{a[s]=null});return{c(){for(let s=0;s<a.length;s+=1)a[s].c();t=me()},l(s){for(let n=0;n<a.length;n+=1)a[n].l(s);t=me()},m(s,n){for(let o=0;o<a.length;o+=1)a[o].m(s,n);G(s,t,n),r=!0},p(s,n){if(n&2){e=s[1];let o;for(o=0;o<e.length;o+=1){const f=ke(s,e,o);a[o]?(a[o].p(f,n),$(a[o],1)):(a[o]=$e(f),a[o].c(),$(a[o],1),a[o].m(t.parentNode,t))}for(te(),o=e.length;o<a.length;o+=1)l(o);ae()}},i(s){if(!r){for(let n=0;n<e.length;n+=1)$(a[n]);r=!0}},o(s){a=a.filter(Boolean);for(let n=0;n<a.length;n+=1)T(a[n]);r=!1},d(s){Le(a,s),s&&d(t)}}}function qe(i){let t,r;return t=new Se({props:{data:i[10],expand:!0}}),{c(){se(t.$$.fragment)},l(e){le(t.$$.fragment,e)},m(e,a){ie(t,e,a),r=!0},p(e,a){const l={};a&2&&(l.data=e[10]),t.$set(l)},i(e){r||($(t.$$.fragment,e),r=!0)},o(e){T(t.$$.fragment,e),r=!1},d(e){oe(t,e)}}}function Be(i){let t,r;return t=new Se({props:{data:i[10],expand:!0}}),{c(){se(t.$$.fragment)},l(e){le(t.$$.fragment,e)},m(e,a){ie(t,e,a),r=!0},p(e,a){const l={};a&2&&(l.data=e[10]),t.$set(l)},i(e){r||($(t.$$.fragment,e),r=!0)},o(e){T(t.$$.fragment,e),r=!1},d(e){oe(t,e)}}}function $e(i){let t,r,e,a,l,s,n;const o=[Be,qe],f=[];function w(u,b){return u[12]===0?0:1}return r=w(i),e=f[r]=o[r](i),{c(){t=_("div"),e.c(),a=L(),this.h()},l(u){t=m(u,"DIV",{class:!0});var b=v(t);e.l(b),a=C(b),b.forEach(d),this.h()},h(){p(t,"class","py-2")},m(u,b){G(u,t,b),f[r].m(t,null),c(t,a),n=!0},p(u,b){e.p(u,b)},i(u){n||($(e),Ae(()=>{s&&s.end(1),l=Fe(t,we,{duration:500}),l.start()}),n=!0)},o(u){T(e),l&&l.invalidate(),s=We(t,we,{}),n=!1},d(u){u&&d(t),f[r].d(),u&&s&&s.end()}}}function Ge(i){let t,r,e,a,l,s,n,o,f,w,u,b,D,V,I,U,O,j,P,q,N,K,H,X,Q,h=i[0].city&&i[0].state&&Ee(i),g=i[3]&&De(i);return{c(){t=_("meta"),r=L(),e=_("div"),a=_("h1"),l=k("Welcome to a special weather App. It tells you the weather, but is honest about it"),s=L(),n=_("div"),o=_("label"),f=_("h2"),w=k("Address"),u=_("input"),b=L(),D=_("button"),V=k("Get Forecast"),I=L(),h&&h.c(),U=L(),g&&g.c(),O=L(),j=_("div"),P=_("p"),q=k("Data provided by the US NWS. "),N=_("a"),K=k("View source code"),this.h()},l(y){const W=Ce('[data-svelte="svelte-1i7y4y"]',document.head);t=m(W,"META",{name:!0,content:!0}),W.forEach(d),r=C(y),e=m(y,"DIV",{class:!0});var A=v(e);a=m(A,"H1",{});var z=v(a);l=E(z,"Welcome to a special weather App. It tells you the weather, but is honest about it"),z.forEach(d),s=C(A),n=m(A,"DIV",{class:!0,id:!0});var R=v(n);o=m(R,"LABEL",{for:!0});var F=v(o);f=m(F,"H2",{});var S=v(f);w=E(S,"Address"),S.forEach(d),F.forEach(d),u=m(R,"INPUT",{id:!0,type:!0,placeholder:!0,class:!0}),b=C(R),D=m(R,"BUTTON",{class:!0});var M=v(D);V=E(M,"Get Forecast"),M.forEach(d),R.forEach(d),I=C(A),h&&h.l(A),U=C(A),g&&g.l(A),O=C(A),j=m(A,"DIV",{});var Z=v(j);P=m(Z,"P",{});var J=v(P);q=E(J,"Data provided by the US NWS. "),N=m(J,"A",{href:!0,class:!0});var x=v(N);K=E(x,"View source code"),x.forEach(d),J.forEach(d),Z.forEach(d),A.forEach(d),this.h()},h(){p(t,"name","description"),p(t,"content","A weather app that is honest about it's predictions"),document.title="Your honest Weather forecast",p(o,"for","address"),p(u,"id","address"),p(u,"type","text"),p(u,"placeholder","Enter a location"),p(u,"class","text-stone-900"),p(D,"class","bg-stone-100 hover:bg-stone-400 text-stone-900 font-semibold py-2 px-4 border border-stone-400 rounded shadow"),p(n,"class","container mx-auto my-4"),p(n,"id","address-input"),p(N,"href","https://github.com/Pachwenko/almost-accurate-weather"),p(N,"class","normal-link"),p(e,"class","mx-auto bg-stone-900 text-stone-100 flex flex-col mx-auto text-center min-h-screen")},m(y,W){c(document.head,t),G(y,r,W),G(y,e,W),c(e,a),c(a,l),c(e,s),c(e,n),c(n,o),c(o,f),c(f,w),c(n,u),ge(u,i[2]),c(n,b),c(n,D),c(D,V),c(e,I),h&&h.m(e,null),c(e,U),g&&g.m(e,null),c(e,O),c(e,j),c(j,P),c(P,q),c(P,N),c(N,K),H=!0,X||(Q=[ye(u,"input",i[5]),ye(D,"click",i[4])],X=!0)},p(y,[W]){W&4&&u.value!==y[2]&&ge(u,y[2]),y[0].city&&y[0].state?h?h.p(y,W):(h=Ee(y),h.c(),h.m(e,U)):h&&(h.d(1),h=null),y[3]?g?(g.p(y,W),W&8&&$(g,1)):(g=De(y),g.c(),$(g,1),g.m(e,O)):g&&(te(),T(g,1,1,()=>{g=null}),ae())},i(y){H||($(g),H=!0)},o(y){T(g),H=!1},d(y){d(t),y&&d(r),y&&d(e),h&&h.d(),g&&g.d(),X=!1,Ve(Q)}}}function Xe(i){return i.reduce((t,r,e)=>{if(e<i.length-1){let a=new Date(i[e].startTime).getDay(),l=new Date(i[e+1].startTime).getDay();if(a===l){let s={morning:i[e],night:i[e+1]};s.morning.dayOfWeek=ce(a),s.night.dayOfWeek=ce(l),t.push(s)}else if(e===0){let s={morning:i[e],night:null};s.morning.dayOfWeek=ce(a),t.push(s)}}return t},[])}function ce(i){return["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][i]}function ze(i,t,r){const e={city:"Salt Lake City",state:"UT",office:"SLC",gridX:97,gridY:176,lat:40.788333,lng:-111.977778};let a={},l=[],s="",n=!1;Ie(async()=>{await o()});function o(){r(0,a=e),w()}async function f(D,V){let I;I=await fetch("/samplepointsSLC.json").then(U=>U.json()),r(0,a.office=I.properties.gridId,a),r(0,a.gridX=I.properties.gridX,a),r(0,a.gridY=I.properties.gridY,a),r(0,a.city=I.properties.relativeLocation.properties.city,a),r(0,a.state=I.properties.relativeLocation.properties.state,a)}async function w(){const D=new Date;(!a.office||!a.gridX||!a.gridY)&&await f(a.lat,a.lng);let V;V=await fetch("/sampleForecastNighttime.json").then(j=>j.json()),r(1,l=Xe(V.properties.periods));const I=new Date,U=1e3,O=I.getTime()-D.getTime();O<U?setTimeout(()=>{r(3,n=!0)},1e3-O):r(3,n=!0)}async function u(){if(s.length>0){r(3,n=!1);let D;D=await fetch("/geocodeSaltLakeCity.json").then(V=>V.json()),r(0,a.lng=D.features[0].geometry.coordinates[0],a),r(0,a.lat=D.features[0].geometry.coordinates[1],a),await f(a.lat,a.lng),w()}}function b(){s=this.value,r(2,s)}return[a,l,s,n,u,b]}class Ke extends ue{constructor(t){super(),fe(this,t,ze,Ge,de,{})}}export{Ke as default};
